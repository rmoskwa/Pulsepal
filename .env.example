# =============================================================================
# PulsePal Environment Configuration
# Copy this file to .env and fill in your actual API keys and settings
# =============================================================================

# =============================================================================
# LLM Configuration (Required)
# =============================================================================

# Google API Key for Gemini model access
# You can set this to any LLM you wish
GOOGLE_API_KEY=your_google_api_key_here

# Gemini model to use (optional - defaults to gemini-2.5-flash)
LLM_MODEL=gemini-2.5-flash

# =============================================================================
# Database Configuration for RAG Database (Required - Supabase as example)
# =============================================================================

# Supabase project URL
# Format: https://your-project-id.supabase.co
# Get from: Your Supabase project dashboard > Settings > API
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase service role key (NOT the anon key)
# Get from: Your Supabase project dashboard > Settings > API > Service role key
SUPABASE_KEY=your_supabase_service_role_key_here

# =============================================================================
# Embedding Configuration (Required - Defaults to Google Embeddings)
# =============================================================================

# Google API Key for embeddings (can be same as GOOGLE_API_KEY)
# Used for generating embeddings for RAG search
GOOGLE_API_KEY_EMBEDDING=your_google_api_key_here

# Embedding provider (currently only 'google' is supported)
EMBEDDING_PROVIDER=google

# Google embedding model to use
EMBEDDING_MODEL=models/embedding-001

# Embedding dimensions (must match your Supabase vector column dimensions)
EMBEDDING_DIMENSIONS=768

# Initialize embeddings at startup for faster first query (slower startup)
# Set to true for production, false for development
INIT_EMBEDDINGS=false

# =============================================================================
# Session Management Configuration (Optional)
# =============================================================================

# Maximum session duration in hours (default: 24)
# Sessions older than this are automatically cleaned up
MAX_SESSION_DURATION_HOURS=24

# Maximum conversation history entries per session (default: 100)
# Older entries are pruned when limit is reached
MAX_CONVERSATION_HISTORY=100

# Maximum code examples stored per session (default: 50)
MAX_CODE_EXAMPLES=50

# =============================================================================
# RAG Configuration (Optional)
# =============================================================================

# Default number of RAG results to return (default: 5)
DEFAULT_MATCH_COUNT=5

# Maximum number of RAG results allowed (default: 20)
MAX_MATCH_COUNT=20

# Similarity thresholds for different query types (0.0-1.0 range)
# Lower values = more lenient matching, Higher values = stricter matching
THRESHOLD_SEQUENCE=0.7          # For sequence example detection
THRESHOLD_IMPLEMENTATION=0.65   # For implementation questions
THRESHOLD_FUNCTION=0.75         # For function detection
THRESHOLD_PHYSICS=0.7           # For physics questions

# =============================================================================
# Development/Testing Configuration (Optional)
# =============================================================================

# Environment mode: 'development' or 'production'
# Development mode enables additional logging and debug features
ENVIRONMENT=development

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable test mode (uses TestModel instead of real Gemini API)
# Only set to true for unit testing
TEST_MODE=false

# =============================================================================
# Conversation Logging (Optional - for debugging)
# =============================================================================

# Enable conversation logging to files
# Useful for debugging and analyzing agent responses
ENABLE_CONVERSATION_LOGGING=false

# Directory to store conversation logs
# Logs are saved as JSON files with timestamp and session ID
CONVERSATION_LOG_DIR=conversationLogs

# =============================================================================
# Chainlit Web UI Configuration (Optional)
# =============================================================================

# Chainlit auth secret for session management
# Generate a random string for production use
# You can generate one with: openssl rand -hex 32
CHAINLIT_AUTH_SECRET=your_random_secret_here
